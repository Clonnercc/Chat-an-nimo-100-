<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Bate-Papo Anônimo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Arial;background:#0f0f0f;color:white;display:flex;flex-direction:column;height:100vh;}
header{background:#e60073;padding:15px;text-align:center;font-size:22px;}
#chat{flex:1;overflow-y:auto;padding:15px;}
.msg{margin-bottom:10px;background:#222;padding:8px;border-radius:5px;}
footer{display:flex;background:#000;padding:10px;}
input{flex:1;padding:10px;border:none;border-radius:5px;}
button{margin-left:10px;background:#e60073;border:none;color:white;border-radius:5px;padding:10px;}
</style>
</head>
<body>

<header>Bate‑Papo Anônimo</header>
<div id="chat"></div>

<footer>
<input id="txt" placeholder="Digite..." autocomplete="off">
<button onclick="enviar()">Enviar</button>
</footer>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();
const chat = document.getElementById("chat");
const txt = document.getElementById("txt");

function enviar(){
  if(txt.value.trim()=="") return;
  socket.emit("msg", txt.value);
  txt.value="";
}

socket.on("msg", (d)=>{
  const div=document.createElement("div");
  div.className="msg";
  div.innerHTML="<b>Anon-"+d.id+"</b>: "+d.texto;
  chat.appendChild(div);
  chat.scrollTop=chat.scrollHeight;
});

txt.addEventListener("keydown", e=>{
  if(e.key==="Enter") enviar();
});
</script>

</body>
</html>
